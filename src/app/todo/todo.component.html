<div class="todo-container">
  <h2>Ma Todo List</h2>

  <input [(ngModel)]="newTask" placeholder="Nouvelle tâche" (keydown.enter)="addTask()" />
  <button (click)="addTask()">Ajouter</button>

  <ul>
    <li *ngFor="let task of tasks; let i = index">
      <input *ngIf="task.editing"
             [value]="task.text"
             (blur)="saveTask(task, $event)"
             (keydown.enter)="saveTask(task, $event)"
             autofocus />

      <span *ngIf="!task.editing" (dblclick)="editTask(task)">
        {{ task.text }}
      </span>

      <button (click)="removeTask(i)">❌</button>
      <button *ngIf="!task.editing" (click)="editTask(task)">✏️</button>
    </li>
  </ul>
</div>
